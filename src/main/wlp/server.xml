<server>
	<featureManager>
		<feature> ssl-1.0 </feature>
		<feature>webProfile-7.0</feature>
		<feature> monitor-1.0 </feature>
		<feature> requestTiming-1.0 </feature>
	</featureManager>
	
	<httpDispatcher enableWelcomePage="false" />

	<sslOptions id="memberSSLOptions" 
				sslRef="defaultSSLConfig" />
	
	<sslDefault sslRef="defaultSSLConfig" />
	
	<ssl 	id="defaultSSLConfig" 
			securityLevel="HIGH"
			clientAuthenticationSupported="true" 
			sslProtocol="TLSv1.2"
			keyStoreRef="defaultKeyStore" 
			trustStoreRef="defaultTrustStore" />
	
	<keyStore 	password="${enc-defaultSSLConfig_password}"
				location="${server.config.dir}/resources/security/default_key.jks" 
				id="defaultKeyStore" />
	
	<keyStore 	password="${enc-defaultSSLConfig_password}"
				location="${server.config.dir}/resources/security/default_trust.jks"
				id="defaultTrustStore" />


	<httpEndpoint 	id="defaultHttpEndpoint" 
					host="*" 
					httpPort="${http-port}"
					httpsPort="${https-port}" 
					sslOptionsRef="memberSSLOptions">
					<tcpOptions> soReuseAddr="true" </tcpOptions>
					<httpOptions 	readTimeout="5s" 
									writeTimeout="5s"
									removeServerHeader="true" />
					<sslOptions> sslRef="defaultSSLConfig" </sslOptions>
	</httpEndpoint>
	
	<logging 	traceSpecification="*=info" 
				maxFiles="50" 
				maxFileSize="20"
				logDirectory="${log-dir}" 
				copySystemStreams="${copy-system-streams}"
				consoleLogLevel="${console-log-level}" />
	
	<requestTiming 	sampleRate="1" 
					slowRequestThreshold="10s"
					hungRequestThreshold="50s" 
					includeContextInfo="true" />
	
	<applicationMonitor dropinsEnabled="false" />
	
	<httpSession 	maxInMemorySessionCount="750" 
					cookieSecure="true"
					allowOverflow="false" />
	
	<webAppSecurity ssoRequiresSSL="true" />
	
	<pluginConfiguration 	connectTimeout="4"
							serverIOTimeout="100" />

	<application 	name="${app-name}" 
					context-root="${context-root}"
					location="${app-location}" 
					type="war" />
</server>
